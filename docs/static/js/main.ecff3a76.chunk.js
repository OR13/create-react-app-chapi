(this["webpackJsonpcreate-react-app-chapi"]=this["webpackJsonpcreate-react-app-chapi"]||[]).push([[0],{122:function(e,t,n){"use strict";var a=n(26),r=n(10),i=n(11),c=n(51),o=n(37),l=n(53),u=n(0),s=n.n(u),d=(n(167),n(258)),p=n.n(d),f=(n(373),n(375),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.jsonObject,n=e.onChange,r=t?JSON.stringify(t,null,2):"";return s.a.createElement(p.a,{mode:"json",theme:"github",readOnly:void 0===n,style:Object(a.a)({},this.props.style,{width:"100%"}),onChange:function(e){n(e)},name:"JSONEditorEditor",value:r,editorProps:{$blockScrolling:!0}})}}]),t}(u.Component));t.a=f},134:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(4),c=n(26),o=n(99),l=n(256),u=n.n(l),s=n(66),d=n.n(s),p=n(47),f=n.n(p),m=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,{headers:{Accept:"application/ld+json"},method:"get"}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("did:")){e.next=13;break}if(!t.startsWith("did:web:")){e.next=7;break}return n=t.split("did:web:")[1].split("#").shift(),e.next=5,m("https://".concat(n,"/.well-known/did.json"));case 5:return a=e.sent,e.abrupt("return",{contextUrl:null,document:a,documentUrl:t});case 7:return"https://uniresolver.io/1.0/identifiers/",e.next=10,m("https://uniresolver.io/1.0/identifiers/"+t);case 10:return i=e.sent,c=i.didDocument,e.abrupt("return",{contextUrl:null,document:c,documentUrl:t});case 13:return e.prev=13,e.next=16,f.a.documentLoader(t);case 16:return o=e.sent,e.abrupt("return",o);case 20:e.prev=20,e.t0=e.catch(13),console.error("No remote context support for ".concat(t));case 23:throw new Error("No custom context support for ".concat(t));case 24:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(t){return e.apply(this,arguments)}}(),h=n(257),v=n(179);n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return E}));var y=d.a.suites.Ed25519Signature2018,g=d.a.purposes.AuthenticationProofPurpose,j=new o.Ed25519KeyPair(Object(c.a)({},h,{id:"did:web:chapi.did.ai#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN",controller:"did:web:chapi.did.ai"})),w=new y({key:j,verificationMethod:j.id}),x=function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.issue({credential:Object(c.a)({},v,{issuer:j.controller,credentialSubject:Object(c.a)({},v.credentialSubject,{id:t})}),suite:w});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i,o,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("DIDAuth"!==t){e.next=6;break}return i={"@context":"https://www.w3.org/2018/credentials/v1",type:"VerifiablePresentation",holder:n},e.next=4,d.a.sign(Object(c.a)({},i),{compactProof:!1,documentLoader:b,purpose:new g(a),suite:w});case 4:return o=e.sent,e.abrupt("return",o);case 6:return e.next=8,x(n);case 8:return l=e.sent,u={"@context":["https://www.w3.org/2018/credentials/v1","https://www.w3.org/2018/credentials/examples/v1"],type:"VerifiablePresentation",verifiableCredential:[l]},e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),E=function(e){switch(e){case"DIDAuth":return{web:{VerifiablePresentation:{query:{type:"DIDAuth"},challenge:"99612b24-63d9-11ea-b99f-4f66f3e4f81a",domain:"issuer.example.com"}}};default:return{web:{VerifiablePresentation:{query:[{type:"QueryByExample",credentialQuery:{reason:"Please present an ".concat(e," for JaneDoe."),example:{"@context":["https://www.w3.org/2018/credentials/v1","https://www.w3.org/2018/credentials/examples/v1"],type:[e]}}}]}}}}}},143:function(e,t){},148:function(e,t){},149:function(e,t){},163:function(e,t){},166:function(e,t){},179:function(e){e.exports=JSON.parse('{"@context":["https://www.w3.org/2018/credentials/v1","https://www.w3.org/2018/credentials/examples/v1"],"id":"http://example.gov/credentials/3732","type":["VerifiableCredential","UniversityDegreeCredential"],"issuer":"https://example.edu","issuanceDate":"2020-03-09T21:24:24.098Z","credentialSubject":{"id":"did:example:ebfeb1f712ebc6f1c276e12ec21","degree":{"type":"BachelorDegree","name":"Bachelor of Science and Arts"}}}')},208:function(e,t){},241:function(e,t){},255:function(e,t,n){"use strict";(function(e){var a=n(2),r=n.n(a),i=n(4),c=n(81),o=n(26),l=n(87),u=n(0),s=n.n(u),d=n(261),p=n(83),f=n.n(p),m=n(133),b=n.n(m),h=n(405),v=n(406),y=n(403),g=n(130),j=n.n(g),w=n(180),x=n.n(w),O=n(134),E=n(122),D=n(407),k=[{value:"UniversityDegreeCredential",label:"UniversityDegreeCredential"},{value:"DIDAuth",label:"DIDAuth"}];t.a=function(){var t,n=s.a.useState({panel0:!0}),a=Object(l.a)(n,2),u=a[0],p=a[1],m=s.a.useState({credentialSubjectId:"did:example:credential-subject-123",credentialType:"UniversityDegreeCredential"}),g=Object(l.a)(m,2),w=g[0],C=g[1];return s.a.createElement(h.a,{expanded:u.panel0,onChange:(t="panel0",function(){p(Object(o.a)({},u,Object(c.a)({},t,!u[t])))})},s.a.createElement(v.a,{expandIcon:s.a.createElement(j.a,null),"aria-controls":"panel0-content",id:"panel0-header"},s.a.createElement(f.a,null,"Receive Credential from Website")),s.a.createElement(y.a,{style:{flexDirection:"column"}},s.a.createElement(x.a,{id:"outlined-select-credentialType",select:!0,required:!0,label:"Credential Type",style:{marginBottom:"16px"},value:w.credentialType,onChange:function(e){C(Object(o.a)({},w,{credentialType:e.target.value}))},variant:"outlined"},k.map((function(e){return s.a.createElement(D.a,{key:e.value,value:e.value},e.label)}))),s.a.createElement(x.a,{required:!0,id:"credentialSubjectId",label:"Credential Subject ID",variant:"outlined",value:w.credentialSubjectId}),s.a.createElement("div",{style:{marginTop:"16px",marginBottom:"16px"}},s.a.createElement(b.a,{variant:"contained",onClick:Object(i.a)(r.a.mark((function t(){var n,a,i,c,l,u,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=window.origin,a="".concat(n,"/worker.html"),t.next=4,d.a({url:a});case 4:return i=t.sent,t.next=7,i.credentialManager.hints.set("test",{name:"TestUser",enabledTypes:["VerifiablePresentation","VerifiableCredential","UniversityDegreeCredential"]});case 7:return console.log("Wallet registered."),c={},"DIDAuth"===w.credentialType&&(c={domain:"issuer.example.com",challenge:"99612b24-63d9-11ea-b99f-4f66f3e4f81a"}),t.next=12,Object(O.b)(w.credentialType,w.credentialSubjectId,c);case 12:return l=t.sent,u=new e.WebCredential(l.type,l),t.next=16,navigator.credentials.store(u);case 16:s=t.sent,console.log("Result of receiving via store() request:",s),C(Object(o.a)({},w,{vp:l}));case 19:case"end":return t.stop()}}),t)})))},"Receive Credential")),w.vp&&s.a.createElement(E.a,{jsonObject:w.vp})))}}).call(this,n(39))},257:function(e){e.exports=JSON.parse('{"passphrase":null,"id":"did:key:z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN","controller":"did:key:z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN","type":"Ed25519VerificationKey2018","privateKeyBase58":"3X9WCEbjyVZMYMfB45vFpTqx3YCULX2AtEUsqqQ7HwgooXscme1fzNHrwUkP2nCp4WNdZjciDdzGGfSZPsrUMdUL","publicKeyBase58":"DqS5F3GVe3rCxucgi4JBNagjv4dKoHc8TDLDw9kR58Pz"}')},269:function(e,t,n){e.exports=n(399)},274:function(e,t,n){},278:function(e,t,n){},297:function(e,t){},298:function(e,t){},308:function(e,t){},320:function(e,t){},330:function(e,t){},331:function(e,t){},355:function(e,t){},399:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),c=n.n(i),o=(n(274),n(2)),l=n.n(o),u=n(4),s=n(260),d=n(83),p=n.n(d),f=n(10),m=n(11),b=n(51),h=n(37),v=n(53),y=n(259),g=n(424),j=n(67),w='"Rajdhani"',x='"Roboto Condensed"',O='"Lato"',E=function(e){function t(){return Object(f.a)(this,t),Object(b.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.children,t=Object(y.a)({splashImage:"",palette:{type:"light",primary:{light:Object(j.lighten)("#594aa8",.07),main:"#594aa8",dark:Object(j.darken)("#594aa8",.07)},secondary:{light:Object(j.lighten)("#fcb373",.07),main:"#fcb373",dark:Object(j.darken)("#fcb373",.07)}},typography:{useNextVariants:!0,fontSize:16,fontFamily:[w,x,O].join(","),h1:{fontFamily:w,fontWeight:600},h2:{fontFamily:w,fontWeight:600},h3:{fontFamily:w,fontWeight:600},h4:{fontFamily:x,textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:400},h5:{fontFamily:x,textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:400},h6:{fontFamily:x,textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:400},subtitle1:{fontFamily:w,fontWeight:400},subtitle2:{fontFamily:x,fontWeight:400},body1:{fontFamily:O,fontWeight:400},body2:{fontFamily:O,fontWeight:400},button:{fontFamily:x,fontWeight:400},caption:{fontFamily:x,fontWeight:400},overline:{fontFamily:x,letterSpacing:"0.15em",textTransform:"uppercase",fontWeight:300}},overrides:{MuiInput:{input:{fontFamily:O}},MuiInputLabel:{root:{fontFamily:x}},MuiAppBar:{root:{}},MuiButton:{contained:{boxShadow:"none"}}}});return r.a.createElement(g.a,{theme:t},e)}}]),t}(a.Component),D=(n(278),n(255)),k=n(81),C=n(26),S=n(87),T=n(133),W=n.n(T),P=n(405),B=n(406),F=n(403),I=n(130),A=n.n(I),M=n(427),U=n(407),N=n(122),V=n(134),q=[{value:"UniversityDegreeCredential",label:"UniversityDegreeCredential"},{value:"DIDAuth",label:"DIDAuth"}];var R=function(){var e,t=r.a.useState({panel0:!0}),n=Object(S.a)(t,2),a=n[0],i=n[1],c=r.a.useState({credentialSubjectId:"did:example:credential-subject-123",credentialType:"UniversityDegreeCredential"}),o=Object(S.a)(c,2),s=o[0],d=o[1];return r.a.createElement(P.a,{expanded:a.panel0,onChange:(e="panel0",function(){i(Object(C.a)({},a,Object(k.a)({},e,!a[e])))})},r.a.createElement(B.a,{expandIcon:r.a.createElement(A.a,null),"aria-controls":"panel0-content",id:"panel0-header"},r.a.createElement(p.a,null,"Present Credential to Website")),r.a.createElement(F.a,{style:{flexDirection:"column"}},r.a.createElement(M.a,{id:"outlined-select-credentialType",select:!0,required:!0,label:"Credential Type",value:s.credentialType,onChange:function(e){d(Object(C.a)({},s,{credentialType:e.target.value}))},variant:"outlined"},q.map((function(e){return r.a.createElement(U.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement("div",{style:{marginTop:"16px",marginBottom:"16px"}},r.a.createElement(W.a,{variant:"contained",onClick:Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(V.a)(s.credentialType),e.next=3,navigator.credentials.get(t);case 3:n=e.sent,d(Object(C.a)({},s,{vp:n.data}));case 5:case"end":return e.stop()}}),e)})))},"Present Credential")),s.vp&&r.a.createElement(N.a,{jsonObject:s.vp})))};var z=function(){return r.a.useEffect((function(){Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error in loadOnce:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()})),r.a.createElement(E,null,r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{variant:"h3"},"CHAPI DEMO"),r.a.createElement(D.a,null),r.a.createElement(R,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t){},90:function(e,t){}},[[269,1,2]]]);
//# sourceMappingURL=main.ecff3a76.chunk.js.map